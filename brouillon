import pandas as pd
import joblib
import os

# Définir le chemin vers le dossier des modèles
current_folder = os.getcwd()
basepath = os.path.join(current_folder, "Models")

# Charger les données
data = pd.read_csv(os.path.join(basepath, "y_test_sample.csv"), index_col=0)
clients_a_supprimer = [136718, 307488, 378985]

# Supprimer les clients
data = data[~data['SK_ID_CURR'].isin(clients_a_supprimer)]

# Vérifiez les dimensions de data
print("Dimensions de data :", data.shape)

# Exemple de Client_Id à vérifier
Client_Id = 142213

# Filtrer les données pour le Client_Id
filtered_data = data.loc[data["SK_ID_CURR"] == Client_Id]

# Vérifiez si des données existent pour le Client_Id
if filtered_data.empty:
    print(f"Client_Id {Client_Id} non trouvé.")
else:
    data_idx = filtered_data.index[0]
    print(f"Index du client trouvé : {data_idx}")

    # Vérifiez si l'index est valide
    if data_idx < data.shape[0]:
        print("L'index est valide.")
    else:
        print("L'index est hors des limites.")